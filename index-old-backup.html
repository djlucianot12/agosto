<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-135279002-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-135279002-1');
    </script>
    
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="imagetoolbar" content="no">
    <meta name="viewport" content="initial-scale=1.0,minimum-scale=1,maximum-scale=5">
    <meta name="format-detection" content="telephone=no">
    
    <title>LT STUDIO DESIGN</title>
    <meta name="author" content="LT STUDIO DESIGN">
    <meta name="copyright" content="LT STUDIO DESIGN">
    <meta name="description" content="We will continue to provide architectural spaces that embody beauty and pleasure in serene settings, touching the sentiments of those who use them.">
    <meta name="keywords" content="LT STUDIO DESIGN,今井敦,Atsushi Imai,建築,プロデュース">
    
    <!-- Favicons -->
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicons/favicon-16x16.png">
    <link rel="manifest" href="assets/favicons/site.webmanifest">
    <meta name="msapplication-TileColor" content="#252525">
    <meta name="theme-color" content="#ffffff">
    
    <!-- Open Graph -->
    <meta property="og:title" content="LT STUDIO DESIGN">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://via.placeholder.com/1200x630.png">
    <meta property="og:description" content="We will continue to provide architectural spaces that embody beauty and pleasure in serene settings, touching the sentiments of those who use them.">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="LT STUDIO DESIGN">
    <meta name="twitter:description" content="We will continue to provide architectural spaces that embody beauty and pleasure in serene settings, touching the sentiments of those who use them.">
    <meta name="twitter:image" content="https://via.placeholder.com/1200x630.png">
    
    <!-- Original CSS -->
    <link rel="stylesheet" href="assets/css/bundle.css">
    
    <!-- INTRO ANIMADA - ESTILOS -->
    <style>
        /* INTRO SCREEN */
        #intro-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: #252525;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            transition: opacity 1.5s ease;
        }

        #intro-screen.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .intro-text {
            font-size: 48px;
            font-weight: 300;
            letter-spacing: 8px;
            text-align: center;
            font-family: 'Helvetica Neue', Arial, sans-serif;
        }

        .intro-text .letter {
            display: inline-block;
            color: #444;
            transition: color 0.8s ease;
        }

        .intro-text .letter.filled {
            color: white;
        }

        /* PARTICLES */
        #particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .particle {
            position: absolute;
            background: white;
            border-radius: 50%;
            opacity: 0.3;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            33% { transform: translateY(-30px) rotate(120deg); }
            66% { transform: translateY(30px) rotate(240deg); }
        }

        @media (max-width: 768px) {
            .intro-text {
                font-size: 2.5rem;
                letter-spacing: 4px;
            }
        }

        /* OCULTAR CONTENIDO ORIGINAL HASTA DESPUÉS DE LA INTRO */
        body.intro-active #wrapper {
            opacity: 0;
            pointer-events: none;
        }

        body.intro-complete #wrapper {
            opacity: 1;
            pointer-events: auto;
            transition: opacity 1s ease;
        }

        /* CURSOR FIXES */
        body {
            cursor: default !important;
        }

        #intro-screen {
            cursor: default !important;
        }

        /* Override cursor loading issues */
        * {
            cursor: inherit !important;
        }

        a, button, .js-target--pointer__stateChange {
            cursor: pointer !important;
        }
    </style>
</head>
<body class="is-ready intro-active">

    <!-- INTRO SCREEN -->
    <div id="intro-screen">
        <div id="particles"></div>
        <div class="intro-text"></div>
    </div>

    <!-- CONTENIDO ORIGINAL COMPLETO -->
    <div id="wrapper">
        <header class="l-header js-header b-fonts__medium">
            <div class="p-header l-wide-container">
                <div class="p-header__left js-logo">
                    <div class="p-header__left__inner">
                        <a class="js-target--pointer__stateChange" href="index.html">
                            <div class="js-target__inner--pointer__stateChange js-target__parent--spring">
                                <svg version="1.1" id="logo" class="p-header__logo js-logo" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 60 23.3" style="enable-background:new 0 0 60 23.3;" xml:space="preserve">
                                    <style type="text/css"> .st-logo { fill: #FFFFFF; } </style>
                                    <text x="10" y="15" font-family="Arial" font-size="10" fill="#FFFFFF">LT STUDIO DESIGN</text>
                                </svg>
                            </div>
                        </a>
                    </div>
                    <a href="index.html" class="p-header__close c-btn--close js-target__aboutClose js-target--pointer__stateChange js-hover" data-hover-in-time="1200" data-hover-out-time="100">
                        <div class="c-btn--close__layer front js-target__inner--pointer__stateChange js-target__parent--spring">
                            <div class="c-btn--close__bar"><div class="c-btn--close__bar__inner js-closeBar"></div></div>
                            <div class="c-btn--close__bar"><div class="c-btn--close__bar__inner js-closeBar"></div></div>
                        </div>
                        <div class="c-btn--close__layer back">
                            <div class="c-btn--close__bar"><div class="c-btn--close__bar__inner js-closeBar"></div></div>
                            <div class="c-btn--close__bar"><div class="c-btn--close__bar__inner js-closeBar"></div></div>
                        </div>
                    </a>
                </div>
                <a href="index.html" class="p-header__close--works-detail c-btn--close js-target__worksDetailClose js-target--pointer__stateChange js-hover" data-hover-in-time="1200" data-hover-out-time="100">
                    <div class="c-btn--close__layer front js-target__inner--pointer__stateChange js-target__parent--spring">
                        <div class="c-btn--close__bar"><div class="c-btn--close__bar__inner js-closeBar"></div></div>
                        <div class="c-btn--close__bar"><div class="c-btn--close__bar__inner js-closeBar"></div></div>
                    </div>
                    <div class="c-btn--close__layer back">
                        <div class="c-btn--close__bar"><div class="c-btn--close__bar__inner js-closeBar"></div></div>
                        <div class="c-btn--close__bar"><div class="c-btn--close__bar__inner js-closeBar"></div></div>
                    </div>
                </a>
                <nav class="js-nav">
                    <ul class="p-header__list">
                        <li class="p-header__list__item works pc">
                            <div class="p-header__list__item__inner--works">
                                <div class="p-header__list__item--all">
                                    <a class="js-nav__link js-target--pointer__stateChange" href="javascript:void(0);">
                                        <span class="js-target__inner--pointer__stateChange js-target__parent--spring">All</span>
                                    </a>
                                </div>
                                <div class="p-header__list__item--focus">
                                    <a class="js-nav__link js-target--pointer__stateChange" href="index.html">
                                        <span class="js-target__inner--pointer__stateChange js-target__parent--spring">Focus</span>
                                    </a>
                                </div>
                            </div>
                        </li>
                        <li class="p-header__list__item has-children">
                            <a class="js-nav__link js-target--pointer__stateChange about" href="javascript:void(0);">
                                <span class="js-target__inner--pointer__stateChange js-target__parent--spring">About</span>
                            </a>
                            <div class="p-header__list__item__inner">
                                <ul class="p-header__languageList">
                                    <li class="p-header__languageList__item">
                                        <a class="js-nav__link js-trigger--langChange js-target--pointer__stateChange" data-lang="en" href="#">
                                            <span class="js-target__inner--pointer__stateChange js-target__parent--spring">En</span>
                                        </a>
                                    </li>
                                    <li class="p-header__languageList__item">
                                        <a class="js-nav__link js-trigger--langChange js-target--pointer__stateChange" data-lang="zh-cmn-Hans" href="#">
                                            <span class="js-target__inner--pointer__stateChange js-target__parent--spring">Cn</span>
                                        </a>
                                    </li>
                                    <li class="p-header__languageList__item">
                                        <a class="js-nav__link js-trigger--langChange js-target--pointer__stateChange" data-lang="ja" href="#">
                                            <span class="js-target__inner--pointer__stateChange js-target__parent--spring">Jp</span>
                                        </a>
                                    </li>
                                    <li class="p-header__languageList__item line"></li>
                                </ul>
                            </div>
                        </li>
                    </ul>
                </nav>
            </div>
        </header>

        <div class="l-navSp b-fonts__medium js-nav">
            <div class="p-navSp">
                <div class="p-header__list__item__inner--works">
                    <div class="p-header__list__item--all p-navSp__item">
                        <a class="js-nav__link js-target--pointer__stateChange" href="javascript:void(0);">
                            <span class="js-target__inner--pointer__stateChange js-target__parent--spring">All</span>
                        </a>
                    </div>
                    <div class="p-header__list__item--focus p-navSp__item">
                        <a class="js-nav__link js-target--pointer__stateChange" href="index.html">
                            <span class="js-target__inner--pointer__stateChange js-target__parent--spring">Focus</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <main id="page" class="js-smooth-scroll-wrapper">
            <div id="contents" class="js-smooth-scroll-content">
                <div id="top" class="page-content"></div>
            </div>
        </main>

        <aside id="side-contact" class="p-sideContact">
            <address class="l-wide-container">
                <dl class="p-sideContact__inner js-target--sideFix">
                    <div class="p-sideContact__unit">
                        <dt class="b-fonts__medium">Hello.</dt>
                        <dd>
                            <a class="js-target--pointer__stateChange lang-fonts--en c-link--underline js-hover" data-hover-in-time="1010" data-hover-out-time="850" href="mailto:info@ltstudiodesign.com">
                                <span class="js-target__inner--pointer__stateChange c-link--underline__inner">
                                    info@ltstudiodesign.com
                                    <span class="c-link--underline__line"></span>
                                </span>
                            </a>
                        </dd>
                    </div>
                    <div class="p-sideContact__unit">
                        <dt class="b-fonts__medium">Work Together.</dt>
                        <dd>
                            <a class="js-target--pointer__stateChange lang-fonts--en c-link--underline js-hover" data-hover-in-time="1010" data-hover-out-time="850" href="mailto:jobs@ltstudiodesign.com">
                                <span class="js-target__inner--pointer__stateChange c-link--underline__inner">
                                    jobs@ltstudiodesign.com
                                    <span class="c-link--underline__line"></span>
                                </span>
                            </a>
                        </dd>
                    </div>
                </dl>
            </address>
        </aside>

        <div id="stage" class="p-stage">
            <div id="app-canvas"></div>
            <ul class="p-stage__menu">
                <li class="p-stage__menu__item js-canvas__target" data-canvas-thumb="https://picsum.photos/1024/512?random=1" data-canvas-zoom="https://picsum.photos/2048/1024?random=1" data-canvas-url="project-template.html?project=park-mansion">
                    PARK MANSION<br>Minami Azabu
                </li>
                <li class="p-stage__menu__item js-canvas__target" data-canvas-thumb="https://picsum.photos/1024/512?random=2" data-canvas-zoom="https://picsum.photos/2048/1024?random=2" data-canvas-url="project-template.html?project=kawana">
                    with Silence Kawana
                </li>
                <li class="p-stage__menu__item js-canvas__target" data-canvas-thumb="https://picsum.photos/1024/512?random=3" data-canvas-zoom="https://picsum.photos/2048/1024?random=3" data-canvas-url="park-mansion-nuevo.html">
                    Park le JADE<br>SHIROKANE Residence
                </li>
                <li class="p-stage__menu__item js-canvas__target" data-canvas-thumb="https://picsum.photos/1024/512?random=4" data-canvas-zoom="https://picsum.photos/2048/1024?random=4" data-canvas-url="kawana-nuevo.html">
                    SEVENS VILLA<br>Karuizawa
                </li>
                <li class="p-stage__menu__item js-canvas__target" data-canvas-thumb="https://picsum.photos/1024/512?random=5" data-canvas-zoom="https://picsum.photos/2048/1024?random=5" data-canvas-url="park-mansion-nuevo.html">
                    HIKAWA GARDENS
                </li>
                <li class="p-stage__menu__item js-canvas__target" data-canvas-thumb="https://picsum.photos/1024/512?random=6" data-canvas-zoom="https://picsum.photos/2048/1024?random=6" data-canvas-url="kawana-nuevo.html">
                    ONE AVENUE
                </li>
            </ul>
        </div>

        <div id="indicator">
            <div id="app-indicator"></div>
        </div>

        <div id="pageCover" class="p-pageCover js-target--height__screenFix--mobile" data-fix-height-ratio="1.1">
            <div class="p-pageCover__inner js-target--height__screenFix--mobile" data-fix-height-ratio="1">
                <p id="pageCoverText" class="p-pageCover__text b-fonts__medium">Next</p>
            </div>
        </div>
    </div>

    <div id="app-mousePointer"></div>

    <div id="wait-loader" class="l-wide-container p-waitLoader">
        <div class="p-waitLoader__inner">
            <div class="p-waitLoader__circle">
                <div class="p-waitLoader__layer back"></div>
                <div class="p-waitLoader__layer front"></div>
            </div>
        </div>
    </div>

    <div id="loading" class="p-loading">
        <div class="p-loading__outer">
            <div class="p-loading__bg"></div>
            <div class="p-loading__inner">
                <div>
                    <div class="p-loading__front">
                        <div class="p-loading__front__inner">
                            <svg class="p-loading__logo" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 447 26.8" style="enable-background:new 0 0 447 26.8;" xml:space="preserve">
                                <style type="text/css">.st-logo-load { fill: #666; }</style>
                                <text x="150" y="20" font-family="Arial" font-size="15" fill="#666">LT STUDIO DESIGN</text>
                            </svg>
                        </div>
                    </div>
                    <div class="p-loading__back">
                        <div class="p-loading__back__inner">
                            <svg class="p-loading__logo" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 447 26.8" style="enable-background:new 0 0 447 26.8;" xml:space="preserve">
                                <style type="text/css">.st-logo-load-back { fill: #fff; }</style>
                                <text x="150" y="20" font-family="Arial" font-size="15" fill="#fff">LT STUDIO DESIGN</text>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="p-alert js-target--height__screenFix--mobile">
        <p class="p-alert__text b-fonts__medium">Rotate your device.</p>
    </div>

    <!-- SCRIPTS ORIGINALES -->
    <script src="assets/js/vendor.bundle.js" defer></script>
    <script src="assets/js/app.bundle.js" defer></script>

    <!-- SCRIPT DE INTRO ANIMADA -->
    <script>
        // CREAR PARTÍCULAS
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            if (!particlesContainer) return;

            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.width = (Math.random() * 4 + 1) + 'px';
                particle.style.height = particle.style.width;
                particle.style.animationDelay = Math.random() * 6 + 's';
                particle.style.animationDuration = (Math.random() * 4 + 4) + 's';

                particlesContainer.appendChild(particle);
            }
        }

        // ANIMAR TEXTO LETRA POR LETRA CON EXPLOSIÓN
        function animateIntroText() {
            console.log('📝 Iniciando animación de texto intro');
            const introText = document.querySelector('.intro-text');
            const text = 'LT STUDIO DESIGN';

            if (!introText) {
                console.error('❌ No se encontró .intro-text');
                return;
            }

            introText.innerHTML = '';

            // Crear spans para cada letra
            const letters = [];
            text.split('').forEach((letter, index) => {
                const span = document.createElement('span');
                span.className = 'letter';
                span.style.display = 'inline-block';
                span.style.transition = 'color 0.8s ease';
                span.style.color = '#444';
                span.textContent = letter === ' ' ? '\u00A0' : letter;
                introText.appendChild(span);
                letters.push(span);
            });

            console.log(`📝 Creadas ${letters.length} letras`);

            // Animar letra por letra
            letters.forEach((letter, index) => {
                setTimeout(() => {
                    letter.style.color = '#ffffff';
                    letter.classList.add('filled');
                    console.log(`📝 Letra ${index + 1} animada`);

                    // Si es la última letra, hacer EXPLOSIÓN
                    if (index === letters.length - 1) {
                        console.log('🎯 Última letra completada, iniciando EXPLOSIÓN en 2 segundos');
                        setTimeout(() => {
                            console.log('💥 ¡EXPLOSIÓN MEGA ESPECTACULAR!');

                            // EXPLOTAR CADA LETRA
                            letters.forEach((letter, i) => {
                                setTimeout(() => {
                                    // 5 copias voladoras por letra
                                    for (let j = 0; j < 5; j++) {
                                        const flying = document.createElement('span');
                                        flying.textContent = letter.textContent;
                                        flying.style.position = 'fixed';
                                        flying.style.zIndex = '15000';
                                        flying.style.fontSize = '3rem';
                                        flying.style.fontWeight = 'bold';
                                        flying.style.color = '#fff';
                                        flying.style.pointerEvents = 'none';
                                        flying.style.textShadow = '0 0 10px rgba(255,255,255,0.8)';

                                        const rect = letter.getBoundingClientRect();
                                        flying.style.left = rect.left + 'px';
                                        flying.style.top = rect.top + 'px';

                                        document.body.appendChild(flying);

                                        // Animación de vuelo explosivo
                                        const angle = (Math.PI * 2 * j / 5) + (Math.random() * 0.8);
                                        const distance = 400 + Math.random() * 600;
                                        const endX = rect.left + Math.cos(angle) * distance;
                                        const endY = rect.top + Math.sin(angle) * distance;

                                        flying.style.transition = 'all 2.5s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                                        
                                        setTimeout(() => {
                                            flying.style.transform = `translate(${endX - rect.left}px, ${endY - rect.top}px) rotate(${720 + Math.random() * 360}deg) scale(${0.2 + Math.random() * 0.5})`;
                                            flying.style.opacity = '0';
                                        }, 50);

                                        setTimeout(() => {
                                            if (flying.parentNode) {
                                                flying.parentNode.removeChild(flying);
                                            }
                                        }, 2500);
                                    }

                                    // Ocultar letra original
                                    letter.style.transition = 'all 0.8s ease-out';
                                    letter.style.transform = 'scale(0) rotate(180deg)';
                                    letter.style.opacity = '0';

                                }, i * 80);
                            });

                            // Transición final después de la explosión
                            setTimeout(() => {
                                console.log('🌟 Completando transición a página principal');
                                const introScreen = document.getElementById('intro-screen');
                                const body = document.body;

                                // Fade out del intro
                                introScreen.style.opacity = '0';

                                setTimeout(() => {
                                    // Ocultar intro completamente
                                    introScreen.classList.add('hidden');
                                    introScreen.style.display = 'none';

                                    // Mostrar contenido original
                                    body.classList.remove('intro-active');
                                    body.classList.add('intro-complete');

                                    console.log('✅ Página original visible con todas sus animaciones');
                                }, 1500);
                            }, 4000);

                        }, 2000);
                    }
                }, index * 150);
            });
        }

        // INICIALIZAR INTRO
        function initIntro() {
            console.log('🚀 Inicializando intro animada');
            
            const introScreen = document.getElementById('intro-screen');
            if (introScreen) {
                introScreen.style.display = 'flex';
                introScreen.style.opacity = '1';
                console.log('✅ Intro screen visible');
                
                // Crear partículas
                createParticles();
                
                // Iniciar animación después de 1 segundo
                setTimeout(() => {
                    animateIntroText();
                }, 1000);
            }
        }

        // Override de las URLs problemáticas para que funcionen los templates
        document.addEventListener('click', function(e) {
            const target = e.target.closest('.js-canvas__target');
            if (target && target.dataset.canvasUrl) {
                e.preventDefault();
                const url = target.dataset.canvasUrl;
                if (url.includes('.html')) {
                    window.location.href = url;
                }
            }
        });

        // INICIAR CUANDO LA PÁGINA ESTÉ LISTA
        document.addEventListener('DOMContentLoaded', function() {
            console.log('📱 DOM Content Loaded - iniciando intro');
            initIntro();
        });

        if (document.readyState !== 'loading') {
            console.log('⚡ DOM already loaded');
            setTimeout(initIntro, 100);
        }

        console.log('��� LT STUDIO DESIGN con intro cargado');

        // Load main images for projects in the circle
        async function loadProjectMainImages() {
            const projects = ['park-mansion', 'kawana'];

            for (const project of projects) {
                try {
                    const response = await fetch(`projects-data/${project}/config.json`);
                    if (response.ok) {
                        const data = await response.json();
                        if (data.media && data.media.main_image) {
                            const mainImagePath = `projects-data/${project}/images/${data.media.main_image}`;

                            // Update canvas thumbnails with main image
                            const canvasTargets = document.querySelectorAll(`.js-canvas__target[data-canvas-url*="${project}"]`);
                            canvasTargets.forEach(target => {
                                target.setAttribute('data-canvas-thumb', mainImagePath);
                                target.setAttribute('data-canvas-zoom', mainImagePath);
                            });
                        }
                    }
                } catch (error) {
                    console.log(`Could not load main image for ${project}:`, error);
                }
            }
        }

        // Load main images after intro completes
        setTimeout(() => {
            loadProjectMainImages();
        }, 8000); // After intro animation

        // Override project duration to fix timing issue
        setTimeout(function() {
            // Extend project display duration
            if (window.TweenMax && window.TimelineMax) {
                // Slow down any auto-progression
                const originalTimeScale = 1;
                const newTimeScale = 0.3; // Slower = longer display time

                // Override timeline speeds if they exist
                document.addEventListener('click', function(e) {
                    if (e.target.closest('.js-canvas__target')) {
                        // Give more time between project transitions
                        setTimeout(() => {
                            if (window.gsap && window.gsap.globalTimeline) {
                                window.gsap.globalTimeline.timeScale(newTimeScale);
                            }
                        }, 100);
                    }
                });
            }
        }, 2000);
    </script>
</body>
</html>
